# mindbox-test-task
Тестовое задание на стажировку Mindbox на позицию стажера Data Science

## Постановка задачи

Нашей компании нужно сгруппировать клиентов для АБ-тестов. Алгоритм группировки очень простой - взять ID клиента (состоит из 5-7 цифр, например 7412567) и найти сумму всех его цифр. Получившееся число и является номером группы, в которую входит данный клиент.

Для того, чтобы понять, насколько хорош такой простой алгоритм, тебе нужно написать следующие диагностические функции:

- Функция, которая подсчитывает число покупателей, попадающих в каждую группу, если нумерация ID сквозная и начинается с 0. На вход функция получает целое число n_customers (количество клиентов).

- Функция, аналогичная первой, если ID начинается с произвольного числа. На вход функция получает целые числа: n_customers (количество клиентов) и n_first_id (первый ID в последовательности).

## Решение

В файле functions.py расположены требуемые функции:

- get_members_count_from_zero - Подсчет числа покупателей, попадающих в каждую группу, если нумерация ID сквозная и начинается с 0.

- get_members_count - Подсчет числа покупателей, попадающих в каждую группу, если ID начинается с произвольного числа.

Функции возвращают словари вида {Номер группы (сумма цифр): Число покупателей в группе}, не отсортированные по ключам.

------

Для тестирования кода написаны простейшие тесты, расположенные в файле tests.py. Для запуска тестов необходимо в командной строке ввести следующую команду:

    python tests.py -v

Флаг -v опционален и необходим для вывода результатов каждого теста. Также вместо python может потребоваться ввести python3.

------

Для проверки работоспособности написанных функций написан скрипт с CLI. Для его запуска необходимо ввести в командную строку следующую команду:

    python get_members_count.py

Скрипт принимает следующие аргументы:

    -h, --help - Вывод сообщения с описанием агрументов и прекращение работы скрипта

    -n_customers - Количество клиентов (по-умолчанию равно 1)

    -n_first_id - Первый ID в последовательности (по-умолчанию равен 0)

    -mode - Режим запуска скрипта. Режим from_zero запускает функцию подсчета, если нумерация ID начинается с 0. При этом игнорируется параметр n_first_id. Режим from_id запускает функцию подсчета с произвольного ID. При вводе иных значений выводится сообщение о том, что такой режим отсуствует. По-умолчанию установлен режим from_zero.

В качестве результата работы скрипта в консоль выводится таблица со столбцами Group (номер группы a.k.a сумма цифр) и Count (количество клиентов в данной группе). При этом производится предварительная сортировка по ключам.

## Оценка производительности

Данные функции работают за линейное время. 

Время работы для крайнего случая, когда производится проход по ID от 0 до максимально возможного семизначного ID равного 9999999, полученное при помощи timeit: 4.68 s ± 164 ms  

Оценка производительности выполнялась на следующем железе:

CPU: Intel(R) Core(TM) i5-8250U CPU @ 1.60GHz   1.80 GHz (4 cores, 8 threads)

RAM: 8GB